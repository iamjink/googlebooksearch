{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\jinij\\\\Desktop\\\\CODING-BOOT-CAMP\\\\googlebooksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jinij\\\\Desktop\\\\CODING-BOOT-CAMP\\\\googlebooksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\jinij\\\\Desktop\\\\CODING-BOOT-CAMP\\\\googlebooksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\jinij\\\\Desktop\\\\CODING-BOOT-CAMP\\\\googlebooksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\jinij\\\\Desktop\\\\CODING-BOOT-CAMP\\\\googlebooksearch\\\\client\\\\src\\\\pages\\\\SavedBooks.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Col, Row, Container } from '../components/Grid';\nimport Jumbotron from '../components/Jumbotron';\nimport { BookList, BookListItem } from '../components/List';\nimport EmptyList from '../components/EmptyList';\nimport RemoveBtn from '../components/RemoveButton';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\n\nvar SavedBooks = /*#__PURE__*/function (_Component) {\n  _inherits(SavedBooks, _Component);\n\n  var _super = _createSuper(SavedBooks);\n\n  function SavedBooks() {\n    var _this;\n\n    _classCallCheck(this, SavedBooks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      savedBooks: [],\n      initialized: true\n    };\n\n    _this.getBooks = function () {\n      axios.get('/api/books').then(function (res) {\n        _this.setState({\n          savedBooks: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.deleteBook = function (id) {\n      axios.delete(\"/api/books/\".concat(id)).then(function () {\n        toast.error('Book deleted');\n\n        _this.getBooks();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SavedBooks, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getBooks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        size: \"md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Jumbotron, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 8\n        }\n      }, \"Saved Books\")), this.state.savedBooks.map(function (book) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(BookListItem, {\n          key: book._id,\n          authors: book.authors,\n          title: book.title,\n          synopsis: book.synopsis,\n          link: book.link,\n          thumbnail: book.thumbnail,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 10\n          }\n        }), /*#__PURE__*/React.createElement(RemoveBtn, {\n          onClick: function onClick() {\n            return _this2.deleteBook(book._id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 10\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        size: \"md-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      }, \"\\u2190 Back to Book Search\"))));\n    }\n  }]);\n\n  return SavedBooks;\n}(Component);\n\nexport default SavedBooks;","map":{"version":3,"sources":["C:/Users/jinij/Desktop/CODING-BOOT-CAMP/googlebooksearch/client/src/pages/SavedBooks.js"],"names":["React","Component","Link","Col","Row","Container","Jumbotron","BookList","BookListItem","EmptyList","RemoveBtn","toast","axios","SavedBooks","state","savedBooks","initialized","getBooks","get","then","res","setState","data","catch","err","console","log","deleteBook","id","delete","error","map","book","_id","authors","title","synopsis","link","thumbnail"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Col, Row, Container } from '../components/Grid';\r\nimport Jumbotron from '../components/Jumbotron';\r\nimport { BookList, BookListItem } from '../components/List';\r\nimport EmptyList from '../components/EmptyList';\r\nimport RemoveBtn from '../components/RemoveButton';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nclass SavedBooks extends Component {\r\n\tstate = {\r\n\t\tsavedBooks: [],\r\n\t\tinitialized: true\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getBooks();\r\n\t}\r\n\r\n\tgetBooks = () => {\r\n\t\taxios\r\n\t\t\t.get('/api/books')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ savedBooks: res.data });\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t};\r\n\r\n\tdeleteBook = (id) => {\r\n\t\taxios\r\n\t\t\t.delete(`/api/books/${id}`)\r\n\t\t\t.then(() => {\r\n\t\t\t\ttoast.error('Book deleted');\r\n\t\t\t\tthis.getBooks();\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col size=\"md-12\">\r\n\t\t\t\t\t\t<Jumbotron>\r\n\t\t\t\t\t\t\t<h1>Saved Books</h1>\r\n\t\t\t\t\t\t</Jumbotron>\r\n\t\t\t\t\t\t{this.state.savedBooks.map((book) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<BookListItem\r\n\t\t\t\t\t\t\t\t\t\tkey={book._id}\r\n\t\t\t\t\t\t\t\t\t\tauthors={book.authors}\r\n\t\t\t\t\t\t\t\t\t\ttitle={book.title}\r\n\t\t\t\t\t\t\t\t\t\tsynopsis={book.synopsis}\r\n\t\t\t\t\t\t\t\t\t\tlink={book.link}\r\n\t\t\t\t\t\t\t\t\t\tthumbnail={book.thumbnail}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<RemoveBtn onClick={()=>this.deleteBook(book._id)}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col size=\"md-2\">\r\n\t\t\t\t\t\t<Link to=\"/\">← Back to Book Search</Link>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SavedBooks;\r\n"]},"metadata":{},"sourceType":"module"}